<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.65.3" />

<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">




<link rel="icon" href="data:null;base64,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" />
<title>Log monitoring | Nightingale</title><meta property="og:title" content="Log monitoring" />
<meta property="og:description" content="Compared with Open-Falcon, Nightingale has built-in log monitoring. You can place the log collection strategy file on the target machine, or you can configure the log collection strategy on the page
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/en/docs/usage/logger/" />
<meta property="article:published_time" content="2020-02-21T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-04-23T14:35:32+08:00" /><meta property="og:site_name" content="Nightingale" />
<meta itemprop="name" content="Log monitoring">
<meta itemprop="description" content="Compared with Open-Falcon, Nightingale has built-in log monitoring. You can place the log collection strategy file on the target machine, or you can configure the log collection strategy on the page
">
<meta itemprop="datePublished" content="2020-02-21T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-04-23T14:35:32&#43;08:00" />
<meta itemprop="wordCount" content="1079">



<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Log monitoring"/>
<meta name="twitter:description" content="Compared with Open-Falcon, Nightingale has built-in log monitoring. You can place the log collection strategy file on the target machine, or you can configure the log collection strategy on the page
"/>





<link rel="preload" href="/scss/main.min.2578e97f9d8843a49edf8fa01aaed62984681a97b7c0443d1569efd5033a2a1a.css" as="style">
<link href="/scss/main.min.2578e97f9d8843a49edf8fa01aaed62984681a97b7c0443d1569efd5033a2a1a.css" rel="stylesheet" integrity="">


<script
  src="https://s3-gz01.didistatic.com/n9e-pub/js/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>



    <title>Log monitoring | Nightingale</title>
  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/en/">
		<span class="navbar-logo">
			<img src="https://s3-gz01.didistatic.com/n9e-pub/image/n9e-logo-v5-white.png">
			<span style="line-height: 32px;vertical-align:middle;font-weight: 700;">Nightingale</span>
		
	</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link active" href="/en/docs/" ><span class="active">Documentation</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/en/community/" ><span>Community</span></a>
			</li>
			
			
			
			<li class="nav-item dropdown d-none d-lg-block">
				

<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	English
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="/v4/docs/usage/logger/">v4版本</a>
	
</div>
			</li>
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">
</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            




<div id="td-sidebar-menu" class="td-sidebar__inner">
  
  <form class="td-sidebar__search d-flex align-items-center">
    

    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  
  <nav class="collapse td-sidebar-nav pt-2 pl-4" id="td-section-nav">
    
    <div class="nav-item dropdown d-block d-lg-none">
      

<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	English
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="/v4/docs/usage/logger/">v4版本</a>
	
</div>
    </div>
    
    






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation</a>
  </li>
  <ul>
    <li class="collapse show" id="endocs">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/community/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Community</a>
  </li>
  <ul>
    <li class="collapse " id="endocscommunity">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/intro/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Introduction</a>
  </li>
  <ul>
    <li class="collapse " id="endocsintro">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/install/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Installation</a>
  </li>
  <ul>
    <li class="collapse " id="endocsinstall">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsinstalldidiyun" href="/en/docs/install/didiyun/">Mirror installation</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsinstallproduct" href="/en/docs/install/product/">Production installation</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsinstallcompile" href="/en/docs/install/compile/">Source code compilation</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsinstallrpm" href="/en/docs/install/rpm/">RPM installation</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/usage/" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Usage</a>
  </li>
  <ul>
    <li class="collapse show" id="endocsusage">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsusagemaskconf" href="/en/docs/usage/maskconf/">Alarm shield</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsusagemetric" href="/en/docs/usage/metric/">Monitoring indicators</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsusagestrategy" href="/en/docs/usage/strategy/">Monitoring strategy </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsusageport" href="/en/docs/usage/port/">Port monitoring</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsusageproc" href="/en/docs/usage/proc/">Process monitoring </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page  active" id="m-endocsusagelogger" href="/en/docs/usage/logger/">Log monitoring</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsusageplugin" href="/en/docs/usage/plugin/">Plugin mechanism</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/plugin/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Plugin</a>
  </li>
  <ul>
    <li class="collapse " id="endocsplugin">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/operation/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Operation</a>
  </li>
  <ul>
    <li class="collapse " id="endocsoperation">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsoperationcapacity" href="/en/docs/operation/capacity/">Capacity assessment</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsoperationchecklist" href="/en/docs/operation/checklist/">Change check</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsoperationtsdb" href="/en/docs/operation/tsdb/">Drawing related</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsoperationidx" href="/en/docs/operation/idx/">Index</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsoperationmonitor" href="/en/docs/operation/monitor/">Self-monitoring</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/api/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">API</a>
  </li>
  <ul>
    <li class="collapse " id="endocsapi">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsapidata" href="/en/docs/api/data/">Monitoring data</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsapistra" href="/en/docs/api/stra/">Alarm related</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsapicollect" href="/en/docs/api/collect/">Collection configuration</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsapiuser" href="/en/docs/api/user/">User Management</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsapitree" href="/en/docs/api/tree/">Object node</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/faq/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">FAQ</a>
  </li>
  <ul>
    <li class="collapse " id="endocsfaq">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsfaqgraph" href="/en/docs/faq/graph/">Drawing related</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsfaqalert" href="/en/docs/faq/alert/">Alarm related</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/appendix/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Appendix</a>
  </li>
  <ul>
    <li class="collapse " id="endocsappendix">
      
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

  </nav>
</div>




          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            






<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">





<a href="https://github.com/n9e/book/edit/master/content/en/docs/usage/logger.md" target="_blank"><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/n9e/book/issues/new?title=Log%20monitoring" target="_blank"><i class="fab fa-github fa-fw"></i> Create doc issue</a>


<a href="https://github.com/didi/nightingale/issues/new" target="_blank"><i class="fas fa-tasks fa-fw"></i> Create project issue</a>

</div>






<nav id="TableOfContents">
  <ul>
    <li><a href="#meta-information-configuration-file-method">Meta information configuration file method</a></li>
    <li><a href="#configure-the-collection-strategy-on-the-page">Configure the collection strategy on the page</a></li>
  </ul>
</nav>




<div style="">
	<img src="https://s3-gz01.didistatic.com/n9e-pub/image/n9e-invite1.png" width="180" alt="n9e-helper"/>
</div>



          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		










<li class="breadcrumb-item" >
	<a href="/en/docs/">Documentation</a>
</li>




<li class="breadcrumb-item" >
	<a href="/en/docs/usage/">Usage</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="/en/docs/usage/logger/">Log monitoring</a>
</li>

	</ol>
</nav	>

            
<div class="td-content">
	<h1>Log monitoring</h1>
	<div class="lead">Compared with Open-Falcon, Nightingale has built-in log monitoring. You can place the log collection strategy file on the target machine, or you can configure the log collection strategy on the page</div>
	<p>Log monitoring is an external collection. By reading the log printed by the process, the monitoring data is collected and aggregated. After being aggregated into standard time series data, it is pushed to Nightingale&rsquo;s unified back-end storage.</p>
<p>Log monitoring supports two configuration methods, one is to create a meta information configuration file in the specified directory of the target machine; one is to configure the collection strategy on the page. The original code of the log collection part is forked from：<a href="https://github.com/didi/falcon-log-agent">falcon-log-agent</a>。</p>
<h2 id="meta-information-configuration-file-method">Meta information configuration file method</h2>
<p>Check the collector configuration file, logPath is the configuration for this item (default value: /home /n9e /etc /log）。You can put the log collection strategy file (name format <code>log. &lt;Xx&gt; .json</code>) into this directory. The collector component will automatically detect and collect.
for example:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="color:#000;font-weight:bold">{</span>
    <span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;log.sys.oom&#34;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#204a87;font-weight:bold">&#34;file_path&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;/var/log/messages&#34;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#204a87;font-weight:bold">&#34;time_format&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;mmm dd HH:MM:SS&#34;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#204a87;font-weight:bold">&#34;pattern&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;Out of memory&#34;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#204a87;font-weight:bold">&#34;interval&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#204a87;font-weight:bold">&#34;tags&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{},</span>
    <span style="color:#204a87;font-weight:bold">&#34;func&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;cnt&#34;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#204a87;font-weight:bold">&#34;degree&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">6</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#204a87;font-weight:bold">&#34;unit&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;frequency&#34;</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#204a87;font-weight:bold">&#34;comment&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;Process oom&#34;</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div><ul>
<li><strong>name</strong>：Indicator name, corresponding to the metric field of the data after reporting</li>
<li><strong>file_path</strong>：Log files to be collected</li>
<li><strong>time_format</strong>：Timestamp format used when the log is printed</li>
<li><strong>pattern</strong>：Regular expression, the system will match the log file specified by file_path line by line according to the configured regularity</li>
<li><strong>interval</strong>：Acquisition cycle, that is, how many seconds to generate a monitoring data point</li>
<li><strong>tags</strong>：Support to collect other dimensions needed by regular way and use different tags to mark</li>
<li><strong>func</strong>：Calculation method, that is, the method of calculating the collected multi-line logs to obtain the last time point</li>
<li><strong>degree</strong>：Calculation accuracy, the accuracy adopted when the value of the monitoring index is finally calculated, just keep the default</li>
<li><strong>unit</strong>：The unit of the monitoring indicator is only used as a marker and does not change the monitoring value</li>
<li><strong>comment</strong>：Remarks, descriptive information</li>
</ul>
<p>What does the above json configuration mean? It means that the /var /log /messages file will be collected every 10s, matching the keyword &ldquo;Out of Memory&rdquo;, how many lines can be matched (ie cnt function), and the number of lines is reported as the value of the monitoring index. In this way, the server can configure an alarm strategy. When the value of log.sys.oom is greater than 0, it will alarm, indicating that OOM appears in the system.</p>
<p>Below we explain the key fields in more detail:</p>
<p><strong>file_path</strong></p>
<p>The file path supports both fixed and dynamic paths. The name of the log file of the fixed path will not change, the purpose of the dynamic path is to support the log file that is cut by time slice and reflected in the file name。
For example, the above /var /log /messages is a fixed path; examples of dynamic path formats： <code>/opt/appx/log/${%Y%m%d}/appx.log.${%Y%m%d%H}</code></p>
<p><strong>time_format</strong></p>
<p>Log monitoring requires a certain time stamp in the log to ensure the accuracy of the calculation. In the case of delayed log placement and a large log volume, as long as the calculation bottleneck is not reached, the accuracy of the data can still be guaranteed.</p>
<p>The time formats currently supported by Nightingale are as follows:</p>
<pre><code>dd/mmm/yyyy:HH:MM:SS
dd/mmm/yyyy HH:MM:SS
yyyy-mm-ddTHH:MM:SS
dd-mmm-yyyy HH:MM:SS
yyyy-mm-dd HH:MM:SS
yyyy/mm/dd HH:MM:SS
yyyymmdd HH:MM:SS
mmm dd HH:MM:SS
</code></pre><p><strong>pattern</strong></p>
<p>The regular expression used to match. The regular expression is used to match the lines in the log that meet the conditions, and the hit lines are summarized and calculated.</p>
<p>Regular expressions in Golang use RE2 syntax, and RE2 removes backreferences and zero-width assertions. Therefore, if we want to exclude some keywords, we can use our built-in syntactic sugar:</p>
<pre><code>```EXCLUDE```
</code></pre><p>You can use this syntactic sugar to split the front hit regular configuration and the rear exclude regular configuration and assemble it into a pattern.</p>
<p>E.g:</p>
<pre><code>code=[45]00```EXCLUDE```SpeciallyErrorNo
</code></pre><p><strong>func</strong></p>
<p>Collection method **func **, when a batch of rows that meet the rules is filtered out through the configured regularity, in what way should be summarized, and then we can get the results we want.</p>
<p>The currently supported summary methods are:</p>
<ul>
<li>cnt</li>
<li>avg</li>
<li>sum</li>
<li>max</li>
<li>min</li>
</ul>
<pre><code>Examples are as follows:
Assume that the regular expression is configured as Return Success: (\ d +) s Used
 
The log rolls in a certain period:
2017/12/01 12:12:01 Return Success : 1s Used
2017/12/01 12:12:02 Return Success : 2s Used
2017/12/01 12:12:03 Return Success : 4s Used
2017/12/01 12:12:04 Return Success : 2s Used
2017/12/01 12:12:05 Return Success : 1s Used
 
First, get the values ​​in parentheses according to the regularity: 1, 2, 4, 2, 1
Next, according to different calculation methods, you will get different results:
avg   : (1 + 2 + 4 + 2 + 1) / 5 = 2
cnt   : 5
sum   : (1 + 2 + 4 + 2 + 1) = 10
max   : Max(1, 2, 4, 2, 1) = 4
min   : Min(1, 2, 4, 2, 1) = 1
</code></pre><p><strong>tags</strong></p>
<p>The log in the func section is relatively simple, just a time-consuming print. If our system has multiple interfaces, we hope to collect the interface information corresponding to the time-consuming at the same time, and report it as tags, so that the server sees In the picture, you can clearly know the time-consuming situation of each interface. What should you do?</p>
<pre><code>For example, the log rolls in a certain period:
2017/12/01 12:12:01 Return Success : 1s Used by /a
2017/12/01 12:12:02 Return Success : 2s Used by /b
2017/12/01 12:12:03 Return Success : 4s Used by /a
2017/12/01 12:12:04 Return Success : 2s Used by /a
2017/12/01 12:12:05 Return Success : 1s Used by /b

When our pattern does not change, still: Return Success: (\ d +) s Used, pattern just means whether it can match a certain line of logs

The tags field is now configured as:
{
    &quot;...&quot;: &quot;...&quot;,
    &quot;tags&quot;: {
        &quot;api&quot;: &quot;Used by (\\/\\w+)&quot;
    },
    &quot;...&quot;: &quot;...&quot;
}

Just to extract strings like /a or /b, in fact, the regular configuration can be Used by (\ /\ w +), but,
This regular is configured in the &quot;&quot; of json, \ needs to be escaped, so it becomes the above, if it is configured on the web side, no escape is required
</code></pre><p>Note: **If the tag value cannot be matched, it is deemed that the data is not matched, and the log will no longer be counted. **</p>
<h2 id="configure-the-collection-strategy-on-the-page">Configure the collection strategy on the page</h2>
<p>The fields of the page function basically correspond to the configuration files one by one, but I won&rsquo;t repeat them here. In addition, there is a field for configuration verification on the web, you can put a real log to see if the regular can be properly matched.</p>

	
	
	<div class="text-muted mt-5 pt-3 border-top">

<h5 style="color: rgb(235, 30, 207);">诚邀各位小伙伴：</h5>

<p style="color: rgb(235, 30, 207);">
一起参与夜莺社区建设，多写一些夜莺的文章，咱们一起把夜莺做成最好用的国产智能监控。各位甲方上帝们，也可联系我们（18612185520，微信同号）寻求技术支持护航服务，贵司业务发展这么快，我们帮你做好监控！
</p>
</div>
</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Wechat" aria-label="Wechat">
    <a class="text-white" target="_blank" href="https://s3-gz01.didistatic.com/n9e-pub/image/n9e-invite.png">
      <i class="fab fa-weixin"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Email" aria-label="Email">
    <a class="text-white" target="_blank" href="mailto:nightingale@didiglobal.com">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" href="https://github.com/didi/nightingale">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-white" target="_blank" href="https://n9e.slack.com/">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2021 DiDi&#39;s Nightingale team All Rights Reserved</small>
        
	
      </div>
    </div>
  </div>
</footer>


    </div>
    
<script src="https://s3-gz01.didistatic.com/n9e-pub/js/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://s3-gz01.didistatic.com/n9e-pub/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>







<script src="/js/main.min.29b0315468c00226fa6f4556a9cebc0ac4fe1ce1457a01b22c0a06b329877383.js" integrity="sha256-KbAxVGjAAib6b0VWqc68CsT&#43;HOFFegGyLAoGsymHc4M=" crossorigin="anonymous"></script>



  </body>
</html>