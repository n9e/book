<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.65.3" />

<META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">



<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>Port monitoring | Nightingale</title><meta property="og:title" content="Port monitoring" />
<meta property="og:description" content="Port monitoring In Nightingale, you can specify which ports to collect by configuring specific collection strategies, and also support reading the target machine identification file
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/en/docs/usage/port/" />
<meta property="article:published_time" content="2020-02-23T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-04-23T14:35:32+08:00" /><meta property="og:site_name" content="Nightingale" />
<meta itemprop="name" content="Port monitoring">
<meta itemprop="description" content="Port monitoring In Nightingale, you can specify which ports to collect by configuring specific collection strategies, and also support reading the target machine identification file
">
<meta itemprop="datePublished" content="2020-02-23T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-04-23T14:35:32&#43;08:00" />
<meta itemprop="wordCount" content="345">



<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Port monitoring"/>
<meta name="twitter:description" content="Port monitoring In Nightingale, you can specify which ports to collect by configuring specific collection strategies, and also support reading the target machine identification file
"/>







<link rel="preload" href="/scss/main.min.2578e97f9d8843a49edf8fa01aaed62984681a97b7c0443d1569efd5033a2a1a.css" as="style">
<link href="/scss/main.min.2578e97f9d8843a49edf8fa01aaed62984681a97b7c0443d1569efd5033a2a1a.css" rel="stylesheet" integrity="">


<script
  src="https://s3-gz01.didistatic.com/n9e-pub/js/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>



    <title>Port monitoring | Nightingale</title>
  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/en/">
		<span class="navbar-logo"><svg id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 245 300" style="enable-background:new 0 0 245 300"><style>.st0{fill:url(#path-2_3_)}.st1{filter:url(#Adobe_OpacityMaskFilter)}.st2{fill:#fff}.st3{mask:url(#mask-3_1_)}.st4{opacity:.265;fill:url(#路径-3_2_);fill-opacity:.89;enable-background:new}.st5{fill:url(#路径-3_5_);fill-opacity:.87}.st6{fill:url(#路径-4_1_)}.st7{fill:url(#路径-5_1_)}.st8{fill:url(#路径-6_1_)}.st9{fill:url(#路径-7_1_)}</style><title>logo</title><desc>Created with Sketch.</desc><g id="Page-2"><g id="nightingale-logo" transform="translate(-150.000000, -145.000000)"><g id="logo" transform="translate(150.000000, 145.000000)"><g id="Mask"><linearGradient id="path-2_3_" gradientUnits="userSpaceOnUse" x1="-174.4277" y1="568.8312" x2="-173.2979" y2="569.9843" gradientTransform="matrix(245 0 0 -300 42700 170995.9219)"><stop offset="0" style="stop-color:#b7f6ff"/><stop offset="1" style="stop-color:#205cff"/></linearGradient><path id="path-2_1_" class="st0" d="M1e2.0h145v2e2c0 55.2-44.8 1e2-1e2 1e2H0V1e2C0 44.8 44.8.0 1e2.0z"/></g><defs><filter id="Adobe_OpacityMaskFilter" filterUnits="userSpaceOnUse" x="-18" y="44.1" width="291.2" height="262.7"><feColorMatrix type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"/></filter></defs><mask maskUnits="userSpaceOnUse" x="-18" y="44.1" width="291.2" height="262.7" id="mask-3_1_"><g class="st1"><path id="path-2_2_" class="st2" d="M1e2.0h145v2e2c0 55.2-44.8 1e2-1e2 1e2H0V1e2C0 44.8 44.8.0 1e2.0z"/></g></mask><g id="分组" class="st3"><g transform="translate(-18.326772, 44.000000)"><linearGradient id="路径-3_2_" gradientUnits="userSpaceOnUse" x1="-155.1525" y1="524.3486" x2="-155.4377" y2="525.0004" gradientTransform="matrix(202.3432 0 0 -155.5375 31615.8574 81784.625)"><stop offset="0" style="stop-color:#b7f6ff"/><stop offset="1" style="stop-color:#3774ff"/></linearGradient><path id="路径-3" class="st4" d="M212.8 188c-18.4 5-72.3-4.2-76.7-32.3-4.4-28.1 15.3-38.8 22.8-40.9 8.2-2.3 21.4-1.3 26.5 1.5s10.3 7.3 11.7 11.8c.8 2.8 1.3 9.1 1.4 18.9 1.8-10 2.4-16.7 1.7-20.3-1.2-7.3-5.3-9.8-9.5-13.4-8.4-7.3-25.1-7.4-34.4-8.4-21.4-2.4-55.1 16.5-61 48.9s4.9 54.6 18.9 71.8c-10.8.0-26-16.2-25.3-14C90.7 216.2 110 260 161 260s78.8-3.8 105-41.5c17.5-25.2 25.9-53.4 25.4-84.6L277 121.2C272.2 155.5 259.5 175.2 212.8 188z"
						/><radialGradient id="路径-3_5_" cx="-158.0627" cy="527.1606" r=".8258" gradientTransform="matrix(-128.2604 -87.9839 -91.4871 133.3674 28143.4668 -84037.5859)" gradientUnits="userSpaceOnUse"><stop offset="0" style="stop-color:#a0f3ff"/><stop offset=".3515" style="stop-color:#9bedff"/><stop offset="1" style="stop-color:#75acff"/><stop offset="1" style="stop-color:#59d3ff"/></radialGradient><path id="路径-3_1_" class="st5" d="M193 193.6c-41.8 7.1-71.2-20.5-66.7-51.3 4.5-30.8 27.7-35.8 41.1-35.8 5.5.0 9.6.8 14.3 2.6 3.8 1.4 7.8 3.5 11.9 6.5-2.4-2-4.2-3.5-5.7-4.5s-3-1.9-4.6-2.7c-13.8-6.2-25-9.8-33.8-10.8-21.4-2.4-55.1 16.5-61 48.9-5.9 32.4 4.9 54.6 18.9 71.8-10.8.0-26-16.2-25.3-14 1.5 4.8 20.9 48.7 71.9 48.7s78.8-3.8 105-41.5c17.5-25.2 25.9-53.4 25.4-84.6l-14.4-12.7C265.4 148.5 234.9 186.5 193 193.6z"/><linearGradient id="路径-4_1_" gradientUnits="userSpaceOnUse" x1="-155.5565" y1="524.8783" x2="-156.3012" y2="525.455" gradientTransform="matrix(261.9767 0 0 -169.855 40894.957 89316.8516)"><stop offset="0" style="stop-color:#97f2ff"/><stop offset=".7589" style="stop-color:#5996ff"/><stop offset="1" style="stop-color:#205cff"/></linearGradient><path id="路径-4" class="st6" d="M194.7 116.5c-3.6-3.9-6.2-6.4-7.7-7.5-8.5-6.1-19-10.7-25.9-12.1-13.2-2.5-21.3-3.9-34.6-3.9-39.9.0-73.9 30-73.9 35.4s-1-5.7 4.4-17.7c3.6-8 5.4-11.8 5.6-11.3-8 4.2-14.6 9.7-19.9 16.7-8 10.4-20.5 26.8-16.7 61.7s19.4 49.7 38.8 64.9 41.1 20 76.1 20c20.3.0 70.1 2.3 1e2-17.1 19.9-12.9 33.8-30 41.6-51.3 4.1-55.4 5.6-81.5 4.4-78.3-5.5 15.1-3.4 5.9-11.9 24.6-5 11-11.9 29.4-24.5 49.8-6.5 10.6-15.5 22.2-28.2 33.5-19.9 17.8-61.1 32.1-91.8 21.6-19.8-6.8-35.9-20.5-48.2-41.3 6.2 4.5 10.1 7.3 11.7 8.4 8.8 6 15.5 6.8 14.8 6.8 1.4.0-21.1-22-21.1-56.7s21.2-55 42.8-61.5c5-1.5 10.5-2.2 18.1-2.2 6.4.0 12.7 1.5 17.2 2.8 3.5 1 9.1 2.7 15.8 5.9 1.3.6 4.1 1.9 7.3 4C189.8 112.4 191.8 114 194.7 116.5z"/><linearGradient id="路径-5_1_" gradientUnits="userSpaceOnUse" x1="-155.2497" y1="525.0245" x2="-155.1669" y2="525.5534" gradientTransform="matrix(191.0648 0 0 -182.8051 29768.3711 96104.3516)"><stop offset="0" style="stop-color:#b7f6ff"/><stop offset="1" style="stop-color:#20a0ff"/></linearGradient><path id="路径-5" class="st7" d="M12.6 122.8c2.9-13.9 11.4-27.5 25.5-40.6 21.1-19.7 46.7-25 57.1-25 6.9.0 12.3.0 16.3.0-4.5 1.4-8.3 3.2-11.4 5.3s-5.6 4.5-7.5 7.2c25.2-1.9 48.7 2.8 70.5 14.3 17.3 9.1 29.3 20.9 34.6 33.3.9 2.1 1.6 5.2 2.1 9-.7-2.6-1.4-4.6-2.1-5.9-1-1.9-2.9-4-4.2-5.4-2.4-2.6-5.5-4.7-8.8-7-8.4-5.9-32.8-18.2-67-13.9-22.8 2.9-44.4 13.6-64.7 32.1.2-3.9 1.4-8.4 3.4-13.4s3.9-9.6 5.8-13.9c-18.3 13.3-29.5 27.7-33.5 43.2-6.1 23.3-4.1 45.3 5.5 64.5 6.4 12.8 15.4 23.8 27.1 33.2-27-15.2-43.2-32.2-48.5-51S7.3 148.2 12.6 122.8z"/><linearGradient id="路径-6_1_" gradientUnits="userSpaceOnUse" x1="-155.0306" y1="524.5981" x2="-156.1851" y2="524.6747" gradientTransform="matrix(208.2029 0 0 -151.4559 32445.0938 79529.7031)"><stop offset="0" style="stop-color:#b7f6ff"/><stop offset="1" style="stop-color:#20a0ff"/></linearGradient><path id="路径-6" class="st8" d="M45 33.5C65.8 13.9 86.1 2.4 115.6.4s67.9 9.6 89.2 53.2c2.2 4.4 5.7 15.4 2.3 23.3-2.1 5-8.2 11.3-7.3 15.3 1.3 5.7 7.3 14.5 7.3 28.2.0 16.1-12.5 33.8-11 30.9 3.7-7.3 3.7-12.5 3.7-20.8.0-12.4-5.5-21.4-16.3-31.8-9-8.6-27.9-18.9-43.4-23.8s-33.1-4.6-48.4-4.2c-2.6.1 3.9-5.5 9-9.1 3.4-2.4 6.7-3.9 9.8-4.4-20.2.0-39.5 5.1-57.8 15.3C30.9 84.6 22 102.1 11.6 120.4S.3 101.1.3 101.2C16.2 69.1 31.1 46.5 45 33.5z"/><linearGradient id="路径-7_1_" gradientUnits="userSpaceOnUse" x1="-139.4087" y1="511.094" x2="-139.4087" y2="510.094" gradientTransform="matrix(12.239 1.5028 1.9107 -15.5616 917.8299 8225.8291)"><stop offset="0" style="stop-color:#81deff"/><stop offset="1" style="stop-color:#20a0ff"/></linearGradient><path id="路径-7" class="st9" d="M183.2 62.4c.8-.5 4.4 2.4 6.5 5.6 2.8 4.2 3.8 10.5 2 11.1-1.5.4-6.3-2.1-9-5.7C180 69.8 182 63.1 183.2 62.4z"/></g></g></g></g></g></svg></span><span class="text-uppercase font-weight-bold">Nightingale</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link active" href="/en/docs/" ><span class="active">Documentation</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/en/community/" ><span>Community</span></a>
			</li>
			
			
			
			<li class="nav-item dropdown d-none d-lg-block">
				

<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	English
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="/docs/usage/port/">中文</a>
	
</div>
			</li>
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">
</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            




<div id="td-sidebar-menu" class="td-sidebar__inner">
  
  <form class="td-sidebar__search d-flex align-items-center">
    

    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  
  <nav class="collapse td-sidebar-nav pt-2 pl-4" id="td-section-nav">
    
    <div class="nav-item dropdown d-block d-lg-none">
      

<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	English
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="/docs/usage/port/">中文</a>
	
</div>
    </div>
    
    






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation</a>
  </li>
  <ul>
    <li class="collapse show" id="endocs">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/community/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Community</a>
  </li>
  <ul>
    <li class="collapse " id="endocscommunity">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/intro/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Introduction</a>
  </li>
  <ul>
    <li class="collapse " id="endocsintro">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/install/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Installation</a>
  </li>
  <ul>
    <li class="collapse " id="endocsinstall">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsinstalldidiyun" href="/en/docs/install/didiyun/">Mirror installation</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsinstallproduct" href="/en/docs/install/product/">Production installation</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsinstallcompile" href="/en/docs/install/compile/">Source code compilation</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsinstallrpm" href="/en/docs/install/rpm/">RPM installation</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/usage/" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Usage</a>
  </li>
  <ul>
    <li class="collapse show" id="endocsusage">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsusagemaskconf" href="/en/docs/usage/maskconf/">Alarm shield</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsusagemetric" href="/en/docs/usage/metric/">Monitoring indicators</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsusagestrategy" href="/en/docs/usage/strategy/">Monitoring strategy </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page  active" id="m-endocsusageport" href="/en/docs/usage/port/">Port monitoring</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsusageproc" href="/en/docs/usage/proc/">Process monitoring </a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsusagelogger" href="/en/docs/usage/logger/">Log monitoring</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsusageplugin" href="/en/docs/usage/plugin/">Plugin mechanism</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/plugin/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Plugin</a>
  </li>
  <ul>
    <li class="collapse " id="endocsplugin">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/operation/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Operation</a>
  </li>
  <ul>
    <li class="collapse " id="endocsoperation">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsoperationcapacity" href="/en/docs/operation/capacity/">Capacity assessment</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsoperationchecklist" href="/en/docs/operation/checklist/">Change check</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsoperationtsdb" href="/en/docs/operation/tsdb/">Drawing related</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsoperationidx" href="/en/docs/operation/idx/">Index</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsoperationmonitor" href="/en/docs/operation/monitor/">Self-monitoring</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/api/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">API</a>
  </li>
  <ul>
    <li class="collapse " id="endocsapi">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsapidata" href="/en/docs/api/data/">Monitoring data</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsapistra" href="/en/docs/api/stra/">Alarm related</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsapicollect" href="/en/docs/api/collect/">Collection configuration</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsapiuser" href="/en/docs/api/user/">User Management</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsapitree" href="/en/docs/api/tree/">Object node</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/faq/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">FAQ</a>
  </li>
  <ul>
    <li class="collapse " id="endocsfaq">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsfaqgraph" href="/en/docs/faq/graph/">Drawing related</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsfaqalert" href="/en/docs/faq/alert/">Alarm related</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/appendix/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Appendix</a>
  </li>
  <ul>
    <li class="collapse " id="endocsappendix">
      
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

  </nav>
</div>




          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            






<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">





<a href="https://github.com/n9e/book/edit/master/content/en/docs/usage/port.md" target="_blank"><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/n9e/book/issues/new?title=Port%20monitoring" target="_blank"><i class="fab fa-github fa-fw"></i> Create doc issue</a>


<a href="https://github.com/didi/nightingale/issues/new" target="_blank"><i class="fas fa-tasks fa-fw"></i> Create project issue</a>

</div>






<nav id="TableOfContents">
  <ul>
    <li><a href="#target-machine-meta-information-file-method">Target machine meta information file method</a></li>
    <li><a href="#configure-the-collection-strategy-on-the-page">Configure the collection strategy on the page</a></li>
  </ul>
</nav>




<div style="color: red;">
	注意：您当前浏览的文档适用夜莺v2版本，如果尚未上生产，不建议使用v2版本，直接上v3即可，v3版本的文档请查阅官方 <a href="https://github.com/didi/nightingale" style="display: inline;">readme</a>
</div>



          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		










<li class="breadcrumb-item" >
	<a href="/en/docs/">Documentation</a>
</li>




<li class="breadcrumb-item" >
	<a href="/en/docs/usage/">Usage</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="/en/docs/usage/port/">Port monitoring</a>
</li>

	</ol>
</nav	>

            
<div class="td-content">
	<h1>Port monitoring</h1>
	<div class="lead">Port monitoring In Nightingale, you can specify which ports to collect by configuring specific collection strategies, and also support reading the target machine identification file</div>
	<p>Two configuration methods are supported, one is to create a meta information file in the specified directory of the target machine, and the other is to configure the collection strategy on the page.</p>
<h2 id="target-machine-meta-information-file-method">Target machine meta information file method</h2>
<p>You can view the configuration file of the collector. There is a portPath configuration item. You can put a file of the port to be monitored on the path specified by portPath. The collector component will automatically detect and automatically collect.</p>
<p>For example, to collect the survivability of port 5800 of the monapi component of the n9e service, you can create a 10_5800 file under the path specified by portPath (if not, manually create the corresponding directory), the content is n9e-monapi.</p>
<ul>
<li>File name naming convention <code>$ {acquisition frequency} _ $ {acquisition port}</code></li>
<li>The content of the file is the name of this module, such as n9e-monapi. When we call the alarm, we see n9e-monapi and we know which service has a problem. Special characters such as spaces and quotation marks are not allowed.</li>
</ul>
<p>For business services, when we deploy services, we can create this port file, so that the platform can help us monitor this service. When we go offline, we delete this port file, so the platform This port is no longer monitored.</p>
<p>After the port collection is completed, we can configure a monitoring strategy on the public parent node of the service in charge, and we can get all ports of all modules of all services monitored:</p>
<blockquote>
<p>The collection period is assumed to be 20 seconds, and the policy statistics period can be configured to 60 seconds. Each value = 0 is an alarm. The metric for port monitoring is: proc.port.listen. There is no need to configure each port separately.</p>
</blockquote>
<h2 id="configure-the-collection-strategy-on-the-page">Configure the collection strategy on the page</h2>
<p>This method is relatively simple, but it will be described in more detail. There is a service field when configuring the collection strategy. You need to fill in the name of the module, which is equivalent to the content part of the target machine meta information file.</p>

	
	
	<div class="text-muted mt-5 pt-3 border-top">Last modified April 23, 2020: <a  href="https://github.com/n9e/book/commit/e8a5ed8d1c2c9ab7074b3dd9aa415b7bcba05cf7">add en  content/en/docs/usage (#16) (e8a5ed8)</a>
</div>
</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Wechat" aria-label="Wechat">
    <a class="text-white" target="_blank" href="https://s3-gz01.didistatic.com/n9e-pub/image/didiyun-xiaozhushou-wechat.jpeg">
      <i class="fab fa-weixin"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Email" aria-label="Email">
    <a class="text-white" target="_blank" href="mailto:nightingale@didiglobal.com">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" href="https://github.com/didi/nightingale">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-white" target="_blank" href="https://n9e.slack.com/">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2020 DiDi&#39;s Nightingale team All Rights Reserved</small>
        
	
      </div>
    </div>
  </div>
</footer>


    </div>
    
<script src="https://s3-gz01.didistatic.com/n9e-pub/js/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://s3-gz01.didistatic.com/n9e-pub/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>







<script src="/js/main.min.29b0315468c00226fa6f4556a9cebc0ac4fe1ce1457a01b22c0a06b329877383.js" integrity="sha256-KbAxVGjAAib6b0VWqc68CsT&#43;HOFFegGyLAoGsymHc4M=" crossorigin="anonymous"></script>



  </body>
</html>