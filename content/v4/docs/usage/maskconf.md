---
title: "告警屏蔽"
linkTitle: "告警屏蔽"
date: 2020-02-25
description: >
  告警屏蔽除了可以屏蔽机器之外，还可以做更细粒度的屏蔽策略，比如可以指定监控指标，可以指定某个标签
---


相比Open-Falcon只能屏蔽机器，夜莺的告警屏蔽做得粒度更灵活，可以配置某个机器的某个指标，甚至可以配置某个机器的某个指标的某个特定tag。
告警屏蔽的配置是依托服务树的，这里纯粹只是为了管理方便，比如某个机器挂在服务树的sre.devops.n9e.judge.hna这个节点，我们要屏蔽这个机器的cpu.idle的报警，可以将屏蔽策略配置在sre节点，也可以配置在sre.devops节点，或者更下层的节点，都可以达到屏蔽效果。
那放在哪个节点来配置比较合适呢？

- 如果是要屏蔽服务相关指标，一般是放在服务节点，比如这个机器给n9e这个服务用的，那就统一在n9e这个节点配置屏蔽策略即可。
- 如果是要屏蔽硬件相关指标，可以在服务节点屏蔽，也可以在团队节点即devops节点屏蔽，因为devops的运维同学可能还运维了sre下的其他团队的服务，比如dfe团队，运维同学只要能区分出这个机器是devops的即可
- 如果机器挂载在多个节点，在其中一个节点配置了屏蔽策略，另一个节点相关报警策略也会受影响，最好是在公共父节点以上的节点配置屏蔽策略，显得无歧义。

说的比较绕，其实放哪层都问题不大，关键是团队自己要有个规范，后面管理起来方便，大家都知道去哪层节点查看屏蔽策略。